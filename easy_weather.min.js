;$.fn.easy_weather=function(f,c,e,d){var a=this;f=(f==undefined)?"34.0452":f;c=(c==undefined)?"-118.284":c;e=(e==undefined)?"Mexico":e;d=(d==undefined)?"Tijuana":d;var b="http://ws.geonames.org/findNearByWeatherJSON?lat="+f+"&lng="+c+"&callback=?";$.getJSON(b,function(i){var m=i.weatherObservation.clouds;var l=i.weatherObservation.weatherCondition;var g=i.weatherObservation.temperature;var h=i.weatherObservation.humidity;var k=select_weather_image(m,l);var j="";if(l=="n/a"){if(m=="n/a"){j="fine"}else{j=m}}else{j=l}create_weather_conditions_wrapper(j,k,g,h,a,d+", "+e)})};function select_weather_image(b,a){if(a=="n/a"){switch(b){case"n/a":return"sunny.gif";case"clear sky":return"sunny.gif";case"few clouds":return"partly_cloudy.gif";case"scattered clouds":return"partly_cloudy.gif";case"broken clouds":return"partly_cloudy.gif";default:return"cloudy.gif"}}else{a=a.replace("light ","").replace("heavy ","").replace(" in vicinity","");switch(a){case"smoke":return"smoke.gif";case"volcanic ash":return"smoke.gif";case"sand":return"dust.gif";case"haze":return"haze.gif";case"spray":return"rain.gif";case"widespread dust":return"dust.gif";case"drizzle":return"rain.gif";case"rain":return"rain.gif";case"snow":return"snow.gif";case"tornado":return"storm.gif";case"waterspout":return"storm.gif";case"showers":return"storm.gif";case"thunderstorm":return"thunderstorm.gif";case"snow grains":return"sleet.gif";case"ice crystals":return"icy.gif";case"ice pellets":return"icy.gif";case"hail":return"sleet.gif";case"small hail":return"sleet.gif";case"snow pellets":return"sleet.gif";case"unknown precipitation":return"rain.gif";case"mist":return"mist.gif";case"fog":return"fog.gif";case"squall":return"flurries.gif";case"sandstorm":return"dust.gif";case"duststorm":return"dust.gif";case"well developed dust":return"dust.gif";case"sand whirls":return"dust.gif";case"funnel cloud":return"flurries.gif";default:if(a.indexOf("rain")>-1){return"rain.gif"}else{if(a.indexOf("snow")>-1){return"snow.gif"}else{if(a.indexOf("thunder")>-1){return"thunderstorm.gif"}else{if(a.indexOf("dust")>-1){return"dust.gif"}else{return"sunny.gif"}}}}}}}function create_weather_conditions_wrapper(f,e,c,d,a,b){temp_f=parseInt(c)+32;$(a).append("<img id='weather_img' src='http://www.google.com/images/weather/"+e+"' />");$(a).append("<div id='weather_conditions'></div>");$("#weather_conditions").append("<p id='weather_location'>Location: "+b+"</p>");$("#weather_conditions").append("<p id='weather_temp'>Temp: "+c+"&deg; C/"+temp_f+"&deg; F</p>");$("#weather_conditions").append("<p id='weather_hum'>Humidity: "+d+"%</p>");$("#weather_conditions").append("<p id='weather_cond'>Conditions: "+f.substr(0,1).toUpperCase()+f.substr(1)+"</p>")};